{"version":3,"sources":["components/Users/users.module.css","components/common/pagination/pagination.module.css","components/common/pagination/pagination.jsx","components/Users/Users.jsx","../node_modules/reselect/es/index.js","Redux/users-selectors.js","components/Users/UsersContainer.js"],"names":["module","exports","Pagination","totalItemsCount","pageSize","currentPage","onPageChanged","porsionSize","pageCount","Math","ceil","pages","i","push","porsionCount","useState","portionNumber","setportionNumber","leftPorsionNumber","rightPorsionNumber","className","styles","paginationNav","button","onClick","filter","p","map","spanItem","selectedPage","e","Users","props","usersWrapp","postsWrapper","usersData","u","main","key","id","info","to","photo","src","photos","small","name","status","followed","disabled","followingInProgress","some","unfollowThunk","followThunk","totalUsersCount","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","usersPage","data","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersApiComponent","pageNumber","getUsersThunk","this","Preloader","React","Component","compose","connect","setCurrentPage","setCurrentPageAC","isfollowingInProgress","isFollowingInProgressAC","getUsersThunkCreator","followThunkCreator","unfollowThunkCreator"],"mappings":"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","file":"static/js/4.91a5f5be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapp\":\"users_usersWrapp__BIG8_\",\"photo\":\"users_photo__2ugS4\",\"info\":\"users_info__1gdQB\",\"postsWrapper\":\"users_postsWrapper__GOn-I\",\"status\":\"users_status__37uIq\",\"main\":\"users_main__Mnl1-\",\"name\":\"users_name__1JzI5\",\"country\":\"users_country__2GxL1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"pagination_selectedPage__2Qp7s\",\"spanItem\":\"pagination_spanItem__2LQRG\",\"paginationNav\":\"pagination_paginationNav__2wP6f\",\"button\":\"pagination_button__14UwU\"};","import styles from './pagination.module.css';\nimport React, {useState} from 'react';\n\nconst Pagination = ({totalItemsCount, pageSize, currentPage, onPageChanged, porsionSize = 15}) => {\n\n    let pageCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n    for (let i = 1; i <= pageCount; i++) {\n        pages.push(i);\n    }\n\n    let porsionCount = Math.ceil(pageCount / porsionSize);\n\n    let [portionNumber, setportionNumber] = useState(1);\n\n    let leftPorsionNumber = (portionNumber - 1) * porsionSize + 1;\n\n    let rightPorsionNumber = (portionNumber) * porsionSize;\n\n\n    return (\n        <div className={styles.paginationNav} >\n\n            {portionNumber > 1 &&\n            <button className={styles.button}\n                    onClick={() => {\n                        setportionNumber(portionNumber - 1)\n                    }} >Prev</button >\n            }\n\n            {pages\n                .filter(p => p >= leftPorsionNumber && p <= rightPorsionNumber)\n                .map(p => {\n                    return <span className={styles.spanItem} >\n                    <span\n                        className={currentPage === p\n                        && styles.selectedPage}\n                        onClick={(e) => {\n                            onPageChanged(p);\n                        }} >{p}&#160;</span >\n                </span >\n                })}\n\n            {porsionCount > portionNumber &&\n            <button className={styles.button}\n                    onClick={() => {\n                        setportionNumber(portionNumber + 1)\n                    }} >Next</button >\n            }\n        </div >\n    );\n}\n\nexport default Pagination;\n","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport styles from './users.module.css';\nimport Pagination from './../common/pagination/pagination';\n\n\nlet Users = (props) => {\n\n    return (\n        <div className={styles.usersWrapp} >\n            <div className={styles.postsWrapper} >\n\n                {props.usersData.map(u => <div className={styles.main}\n                                               key={u.id} >\n                    <div >\n                        <div className={styles.info} >\n                            <div >\n                                <NavLink to={`/profile/${u.id}`} >\n                                    <img className={styles.photo}\n                                         src={u.photos.small != null\n                                             ? u.photos.small\n                                             : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBudYOgApxyKdCiOitPW_M3ExiWxNp-JBuVQ&usqp=CAU'} />\n                                </NavLink >\n                                <span >\n                                <span className={styles.name} >{u.name}</span >\n                                    {u.status\n                                        ? <span className={styles.status} >Status: {u.status}</span >\n                                        : <span className={styles.status} >Status: ...</span >\n                                    }\n                            </span >\n\n                            </div >\n                            <div >\n                                {u.followed\n                                    ? <button disabled={props.followingInProgress.some(id => id === u.id)}\n                                              onClick={() => {\n                                                  props.unfollowThunk(u.id);\n                                              }} >Unfollow</button >\n                                    : <button disabled={props.followingInProgress.some(id => id === u.id)}\n                                              onClick={() => {\n                                                  props.followThunk(u.id);\n                                              }} >Follow</button >}\n                            </div >\n                        </div >\n\n                    </div >\n                </div >)}\n            </div >\n            <Pagination\n                currentPage={props.currentPage}\n                onPageChanged={props.onPageChanged}\n                totalItemsCount={props.totalUsersCount}\n                pageSize={props.pageSize}\n            />\n        </div >\n    );\n}\n\nexport default Users;\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import {createSelector} from \"reselect\";\n\nconst getUsersSelector = (state) => {\n    return state.usersPage;\n}\n\nexport const getUsers = createSelector(getUsersSelector,\n    (data) => {\n        return data.usersData;\n    })\n\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\n\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}\n\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {\n    followThunkCreator,\n    getUsersThunkCreator,\n    isFollowingInProgressAC,\n    setCurrentPageAC,\n    unfollowThunkCreator\n} from '../../Redux/users-reducer';\nimport Users from './Users';\nimport Preloader from '../common/Preloader/Preloader';\nimport {compose} from 'redux';\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from '../../Redux/users-selectors';\n\n\nclass UsersApiComponent extends React.Component {\n\n    componentDidMount() {\n        this.props.getUsersThunk(this.props.currentPage, this.props.pageSize);\n    }\n\n\n    onPageChanged = (pageNumber) => {\n        this.props.getUsersThunk(pageNumber, this.props.pageSize);\n    };\n\n    render() {\n\n        return (\n            <>\n\n                {this.props.isFetching ? < Preloader/> : null}\n\n                <Users\n                    totalUsersCount={this.props.totalUsersCount}\n                    pageSize={this.props.pageSize}\n                    currentPage={this.props.currentPage}\n                    onPageChanged={this.onPageChanged}\n                    usersData={this.props.usersData}\n                    followThunk={this.props.followThunk}\n                    unfollowThunk={this.props.unfollowThunk}\n                    followingInProgress={this.props.followingInProgress}/>\n            </>);\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        usersData: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, {\n        setCurrentPage: setCurrentPageAC,\n        isfollowingInProgress: isFollowingInProgressAC,\n        getUsersThunk: getUsersThunkCreator,\n        followThunk: followThunkCreator,\n        unfollowThunk: unfollowThunkCreator\n    })\n)\n(UsersApiComponent);\n"],"sourceRoot":""}